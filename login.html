<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://kit.fontawesome.com/64d58efce2.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="assets/css/lss.css" />
    <title>Sign in & Sign up Form</title>
</head>

<body>
    <!-- <p>My local data</p>
    <p id="data"></p>
    <br>
    <p>My session data</p>
    <p id="session"></p> -->
    <select id="demo" onchange="show()">
        <option value="Select Color">Select Color</option>
        <option value="#E5D68A">Yellow</option>
        <option value="#6AC47E">Green</option>
        <option value="#51E1ED">Blue</option>
    </select>


    <select id="bg" onchange="showBg()">
        <option value="Select bg">Select bg</option>
        <option value="11.jpg">First</option>
        <option value="home1.jpg">Second</option>
        <option value="home2.jpg">Third</option>
    </select>

    <div id="header" style="margin-right: 2vw;">
    </div>
   

    <div class="container">
        <div class="forms-container">
            <div class="signin-signup">
                <!-- Login Form -->
                <form action="#" class="sign-in-form">
                    <h2 class="title">Sign in</h2>
                    <div class="input-field">
                        <i class="fas fa-envelope"></i>
                        <input type="email" placeholder="Email" id="mail" />
                    </div>
                    <div class="input-field">
                        <i class="fas fa-lock"></i>
                        <input type="password" placeholder="Password" id="password" />
                    </div>
                    <input type="submit" value="Login" class="btn solid" onclick="LogVal()" />

                </form>

                <!-- Sign Up form -->
                <form action="#" class="sign-up-form">
                    <h2 class="title">Sign up</h2>
                    <div class="input-field">
                        <i class="fas fa-user"></i>
                        <input type="text" placeholder="Name" id="name" required
                            oninput=" this.value = this.value.replace(/[0-9]/g,'')" />
                    </div>
                    <div class="input-field">
                        <i class="fas fa-envelope"></i>
                        <input type="email" placeholder="Email" id="email" required />
                    </div>
                    <div class="input-field">
                        <i class="fas fa-phone"></i>
                        <input type="tel" placeholder="Phone" id="phone" required />
                    </div>
                    <div class="input-field">
                        <i class="fas fa-calendar"></i>
                        <input type="date" placeholder="Date of Birth 22/03/2001" id="dob" required />
                    </div>
                    <div class="input-field">
                        <i class="fas fa-lock"></i>
                        <input type="password" placeholder="Password" id="password1" required />
                    </div>
                    <div class="input-field">
                        <i class="fas fa-lock"></i>
                        <input type="password" placeholder="Confirm Password" id="password2" required />
                    </div>
                    <input type="submit" class="btn" value="Sign up" onclick="RegVal()" />

                    <input type="submit" value="Set Cookie" onclick="setCookie()"> <br>
                    <input type="submit" value="Get Cookie" onclick="getCookie()"> <br>
                    <input type="submit" value="Remove Cookie" onclick="removeCookie()">

                </form>
            </div>
        </div>

        <div class="panels-container">
            <div class="panel left-panel">
                <div class="content">
                    <h3>New here ?</h3>
                    <p>
                        Lorem ipsum, dolor sit amet consectetur adipisicing elit. Debitis,
                        ex ratione. Aliquid!
                    </p>
                    <button class="btn transparent" id="sign-up-btn">
                        Sign up
                    </button>
                </div>
                <img src="assets/img/log.svg" class="image" alt="" />
            </div>
            <div class="panel right-panel">
                <div class="content">
                    <h3>One of us ?</h3>
                    <p>
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Nostrum
                        laboriosam ad deleniti.
                    </p>
                    <button class="btn transparent" id="sign-in-btn">
                        Sign in
                    </button>
                </div>
                <img src="assets/img/register.svg" class="image" alt="" />
            </div>
        </div>
    </div>

    <script>
        const sign_in_btn = document.querySelector("#sign-in-btn");
        const sign_up_btn = document.querySelector("#sign-up-btn");
        const container = document.querySelector(".container");

        sign_up_btn.addEventListener("click", () => {
            container.classList.add("sign-up-mode");
        });

        sign_in_btn.addEventListener("click", () => {
            container.classList.remove("sign-up-mode");
        });

         //Local storage
         var person = { "name": "Rohit", "age": 20 };
        var person2 = { "name": "Reuben", "age": 22 };
        localStorage.setItem('person', JSON.stringify(person));
        localStorage.setItem('person2', JSON.stringify(person2));

        var retrievedPerson = JSON.parse(localStorage.getItem('person'));
        var retrievedPerson2 = JSON.parse(localStorage.getItem('person2'));

        document.getElementById("data").innerHTML = localStorage.getItem('person')
        console.log(localStorage.getItem('person2'));

        //Session
        var employee = { "name": "John", "place": "Bangalore" };
        var employee2 = { "name": "Johnny", "place": "Bangkok" };
        sessionStorage.setItem('employee', JSON.stringify(employee));
        sessionStorage.setItem('employee2', JSON.stringify(employee2));

        var retrievedemployee = JSON.parse(sessionStorage.getItem('employee'));
        var retrievedemployee2 = JSON.parse(sessionStorage.getItem('employee2'));

        document.getElementById('session').innerHTML = sessionStorage.getItem('employee')
        console.log(sessionStorage.getItem('employee2'))


        //login credentials are being validated
        function LogVal() {
            var mail = document.getElementById('mail')
            var pword = document.getElementById('password')

            if (

                !mail.value ||
                !password.value
            ) {
                alert("All Fields are mandatory\n")
                return
            }

            var mailcheck = /^\w+([\.-]?\w+)+@(christuniversity.in|christuniversity.com)$/

            if (!mailcheck.test(mail.value)) {
                alert("Invalid Email")
                alert("Only official mail allowed")
                return
            }

            var passcheck = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[~`!@#$%^_+={}|:"<>,.?])[A-Za-z\d@$!%*?&]{8,}$/
            if (!passcheck.test(pword.value)) {
                alert("Password Criteria not met")
                alert("Please include atleast 1 Uppercase Char, 1 Lowercase Char, 1 Number, 1 Special Character and minimum length should be 8 characters.")
                return
            }
            alert("Welcome User")

        }

        //registration credentials are being validated here
        function RegVal() {

            var name = document.getElementById('name')
            var email = document.getElementById('email')
            var phone = document.getElementById('phone')
            var dob = document.getElementById('dob')
            var password1 = document.getElementById('password1')
            var password2 = document.getElementById('password2')

            if (
                !name.value ||
                !email.value ||
                !phone.value ||
                !dob.value ||
                !password1.value ||
                !password2.value
            ) {
                alert("All Fields are mandatory\n")
                return
            }


            var uname = /^[a-zA-Z ]*$/;
            if (!uname.test(name.value)) {
                alert("Name must only consist of Characters")
                alert("Numbers are not permitted")
                return
            }

            var emailid = /^\w+([\.-]?\w+)+@(christuniversity.in|christuniversity.com)$/
            if (!emailid.test(email.value)) {
                alert("Invalid Email")
                alert("Only official mail allowed")
                return
            }

            var phnumber = /[0-9]{10}/
            if (!phnumber.test(phone.value)) {
                alert("Phone Number can only consist of 10 digits")
                return
            }

            var psword = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[~`!@#$%^_+={}|:"<>,.?])[A-Za-z\d@$!%*?&]{8,}$/
            if (!psword.test(password1.value)) {
                alert("Password Criteria not met")
                alert("Please include atleast 1 Uppercase Char, 1 Lowercase Char, 1 Number, 1 Special Character and minimum length should be 8 characters.")
                return
            }
            if (password1.value != password2.value) {
                alert("Password does not match")
                return
            }


            alert("Registered")

        }

        function setCookie() {

            var name = document.getElementById('name').value
            var email = document.getElementById('email').value
            var phone = document.getElementById('phone').value
            console.log(name)
            document.cookie = "Name =" + name
            document.cookie = "Email =" + email
            document.cookie = "Phone =" + phone
        }

        function getCookie() {
            if (document.cookie.length != 0) {


                var allcookies = document.cookie;
                document.write("All Cookies : " + allcookies);

                // Get all the cookies pairs in an array
                cookiearray = allcookies.split(';');

                // Now take key value pair out of this array
                for (var i = 0; i < cookiearray.length; i++) {
                    name = cookiearray[i].split('=')[0];
                    value = cookiearray[i].split('=')[1];
                    document.write("Key is : " + name + " and Value is : " + value);

                }
            }
            else {
                alert("No cookies")
            }
        }


        function removeCookie() {
            document.cookie = "Name =; expires=Thu, 01 Jan 2022 00:00:00 UTC; path=/;";
            document.cookie = "Email =; expires=Thu, 01 Jan 2022 00:00:00 UTC; path=/;";
            document.cookie = "Phone =; expires=Thu, 01 Jan 2022 00:00:00 UTC; path=/;";

        }

        function show() {
            var value = document.getElementById("demo").value;
            if (value != "Select Color") {
                document.bgColor = value;
                document.cookie = "color=" + value + ";expires=Fri,2 Feb 2022 01:00:00 UTC;";
            }
        }
        window.onload = function () {
            if (document.cookie.length != 0) {
                var a = document.cookie.split("=");
                document.getElementById("demo").value = a[1];
                document.bgColor = a[1];
            }
        }
        
        function showBg() {
            var value = document.getElementById("bg").value;
            // console.log(value)
            if (value != "Select Image") {
                document.bgImg = value;
                document.cookie = "img src=" + value + ";expires=Fri,27 Jan 2022 01:57:00 UTC;";
            }
        }
        // window.onclick = function () {
        //     var value = document.getElementById("bg").value;
        //     console.log(value)

        //     if (document.cookie.length != 0) {
                
        
        //         var a = document.cookie.split("=");
        //         document.getElementById("bg").value = a[1];
        //         // document.bgImg=a[1];
        //         // document.body.style.backgroundImage = "URL('https://picsum.photos/seed/picsum/200/300')"
        //         var img = document.createElement("img");
        //         // console.log(a[1])
        //         img.src = value;
        //         img.style="width:400px;height:200px;"
        //         var src = document.getElementById("header");
        //         src.appendChild(img);


        //     }
        


    </script>

</body>

</html>
